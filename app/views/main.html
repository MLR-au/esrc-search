<div style="topbarStyle">
    <div class="row" style="background-color: #003268;">
        <div class="col-sm-9 col-md-9 col-lg-9">
            <a ng-if="returnToSiteLink" href="{{site_url}}" style="color:white; font-weight: 300;">Return to site</a>
        </div>
        <div class="col-sm-1 col-md-1 col-lg-1">
        </div>
        <div class="col-sm-1 col-md-1 col-lg-1">
        </div>
        <div class="col-sm-1 col-md-1 col-lg-1">
            <!--<a href="http://www.esrc.unimelb.edu.au/search-help/" style="color:white; font-weight: 300;">Help</a>-->
            <a href="http://www.esrc.unimelb.edu.au/search-about/" style="color:white; font-weight: 300;">About</a>
        </div>
    </div>
    <div class="row" style="background-color: #efefea;">
            <div class="col-sm-3 col-md-3 col-lg-3">
            </div>
            <div class="col-sm-9 col-md-9 col-lg-9">
                <h4 style="font-size: 16px; font-weight: 300; text-rendering: optimizelegibility; color: #24658A;">
                    <a href="http://www.esrc.unimelb.edu.au" style="color: #24658A;">eScholarship Research Centre</a>, 
                    <a href="http://www.lib.unimelb.edu.au" target="_blank" style="color: #24658A;" >The University of Melbourne Library</a>
                </h4>
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
            </div>
            <div class="col-sm-9 col-md-9 col-lg-9">
                <span ng-show="site_name">
                    <h3 style="font-size: 25px; font-weight: normal; margin: 3px 0 0; padding: 0; text-shadow: 1px -1px 2px #595959; color: #658095; line-height: 1.1;">
                        <span style="color: #3d4343;">{{site_name}}</span>
                    </h3>
                </span>
            </div>
    </div>

    <!-- header controls -->
    <div class="row" style="background-color: #3d4343; padding: 5px 5px;">
        <div class="col-sm-3 col-md-3 col-lg-3">
           <sort-results></sort-results> 
        </div>
        <div class="col-sm-6 col-md-7 col-lg-7">
                <search-form 
                    help='Normally this would be site / context specific help in this bit...'
                    search-type="keyword"
                    >
                </search-form>
        </div>
        <div class="col-sm-2 col-md-2 col-lg-2 pull-right">
            <span ng-hide="detailsActive">
                <button class="btn btn-default pull-right" ng-click="toggleDetails()">
                    <span class="glyphicon glyphicon-align-justify"></span>
                    Summary View
                </button>
            </span>
            <span ng-show="detailsActive">
                <button class="btn btn-default pull-right" ng-click="toggleDetails()">
                    <span class="glyphicon glyphicon-th-list"></span>
                    Show Details 
                </button>
            </span>
        </div>
    </div>
</div>

<!-- side bar: fixed to left -->
<div ng-style="sidebarStyle">
    <div class="row">
        <div class="col-sm-12 text-center">
            <p class="help-block">(Search not working? Try <a href='/basic-search'>basic search</a>.)</a></p>
        </div>
        <div class="col-sm-12 text-center">
            <h4 style="color: #3d4343; font-size: 18px; font-weight: normal; margin: 10px 0px; padding: 0; text-shadow: 1px -1px 2px #595959; line-height: 1.1;">
                Refine Search
            </h4>
        </div>
        <div class="col-sm-12 text-center">
            <div class="btn-group">
                <button class="btn btn-sm btn-default" ng-click="clearAllFilters()">Clear all</button>
                <button class="btn btn-sm btn-default" ng-click="openAllFilters()">Open all</button>
                <button class="btn btn-sm btn-default" ng-click="closeAllFilters()">Close all</button>
            </div>
        </div>
        <!-- DATE FACETING -->
        <div class="col-sm-12">
            <hr style="border-color: #003268;" />
            <date-facet-widget facet-field="exist_from" existence-from-field='exist_from' existence-to-field='exist_to' 
                id="1" label="Age of Discovery: 1400 - 1699" start="1400" end="1699" interval="50"></date-facet-widget>
        </div>
        <div class="col-sm-12">
            <date-facet-widget facet-field="exist_from" existence-from-field='exist_from' existence-to-field='exist_to' 
                id="2" label="Georgian Era: 1700 - 1879" start="1700" end="1879" interval="20"></date-facet-widget>
        </div>
        <div class="col-sm-12">
            <date-facet-widget facet-field="exist_from" existence-from-field='exist_from' existence-to-field='exist_to' 
                id="3" label=" Machine Age: 1880 - 1939" start="1880" end="1939" interval="10"></date-facet-widget>
        </div>
        <div class="col-sm-12">
            <date-facet-widget facet-field="exist_from" existence-from-field='exist_from' existence-to-field='exist_to' 
                id="4" label="Atomic Age: 1940 - 1969" start="1940" end="1969" interval="5"></date-facet-widget>
        </div>
        <div class="col-sm-12">
            <date-facet-widget facet-field="exist_from" existence-from-field='exist_from' existence-to-field='exist_to' 
                id="5" label="Information Age: 1970 - present" start="1970" interval="5"></date-facet-widget>
            <hr style="border-color: #003268;" />
        </div>
        <!-- DATE FACETING -->
        <div class="col-sm-12">
            <facet-widget facet-field="type" label="Entity Type"></facet-widget>
        </div>
        <div class="col-sm-12">
            <facet-widget facet-field="function" label="Entity Function" join="AND"></facet-widget>
        </div>
        <div class="col-sm-12">
            <span ng-if="!returnToSiteLink"><facet-widget facet-field="site_name" label="Data Source"></facet-widget></span>
        </div>
        <div class="col-sm-12">
            <facet-widget facet-field="repository" label="Repository"></facet-widget>
        </div>
        <div class="col-sm-12">
            <facet-widget facet-field="tag" label="Tag" join="AND"></facet-widget>
        </div>
    </div>
</div>

<!-- side bar: fixed to right -->
<div ng-style="bodypanelStyle">
    <search-results display-provenance="true"></search-results>
</div>
