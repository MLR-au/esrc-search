<div ng-if="!results">
    <div class="row">
        <div class="col-sm-3 col-md-3 col-lg-3"></div>
        <div class="col-sm-6 col-md-6 col-lg-6">
            <div class="progress">
              <div class="progress-bar progress-bar-striped progress-bar-warning active"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
              </div>
            </div>
        </div>
        <div class="col-sm-3 col-md-3 col-lg-3"></div>
    </div>
</div>
<div ng-if="results">
    <div class="row" style="margin: 5px 0px;">
        <!-- header -->
        <div class="col-sm-9 col-md-10 col-lg-10">
            You searched for <strong>{{results.term}}</strong>.
            We found <strong>{{results.total}}</strong> documents.
            <span ng-if="suggestion">
                Did you mean <em><a href="" ng-click="setSuggestion(suggestion)">{{suggestion}}</a></em>?
            </span>
        </div>
        <div class="col-sm-2 col-md-2 col-lg-2">
            <button class="btn btn-default btn-sm" ng-click="showFilters = !showFilters">
                <span ng-hide="showFilters">View Filters</span>
                <span ng-show="showFilters">Hide Filters</span>
            </button>
        </div>
    </div>

    <div class="row well" ng-show="showFilters && filters" style="margin: 5px;">
        <!-- filters and controls -->
        <div class="col-sm-2 col-md-2 col-lg-2">
            <button class="btn btn-sm btn-default" ng-click="clearAllFilters()">Clear all filters</button>
        </div>
        <div class="col-sm-10 col-md-10 col-lg-10">
            <ul>
                <li ng-repeat="filter in filters">{{filter | dateFilterPrettifier}}</li>
            </ul>
        </div>
        <!-- end filters and controls -->
    </div>

    <div class="row" style="">
        <!-- results panel -->
        <div class="col-sm-12 col-md-12 col-lg-12">
            <div ng-repeat="doc in results.docs" class="row result-border">
                <generic-result-display ng-model="doc" display-provenance="{{displayProvenance}}"></generic-result-display>
                <div class="col-sm-3 col-md-3">
                    <small>
                        <a href='https://data.esrc.info/solr/{{site}}/select?q=id:"{{doc.id}}"&mlt=off&spellcheck=off&wt=json&json.wrf=JSON_CALLBACK' target="_blank">View SOLR source</a>
                    </small>
                </div>
                <!--
                <div class="col-sm-2 col-md-2">
                    <more-like-this source="{{doc.id}}" ng-model="results.mlt[doc.id]"></more-like-this>
                </div>
                -->
            </div>
            <button type="button" class="btn btn-sm btn-default" ng-click="loadNextPage()" ng-if="results && results.docs.length < results.total">
                load more results
            </button>
        </div>
        <!-- end results panel -->
    </div>
</div>
